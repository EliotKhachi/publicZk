<h1 id="type-inference">Type Inference</h1>
<p>Type inference refers to the automatic detection of the <em>type</em> of an expression in a formal language.</p>
<h2 id="example">Example</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="dt">int</span> <span class="fu">add_one</span>(<span class="dt">int</span> x) {</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a>    <span class="dt">int</span> result; <span class="co">/* declare integer result */</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true"></a>    result = x + <span class="dv">1</span>;</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true"></a>    <span class="kw">return</span> result;</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true"></a>}</span></code></pre></div>
<p>Converted to</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode java"><code class="sourceCode java"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a><span class="fu">add_one</span>(x) {</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a>    var result;  <span class="co">/* inferred-type variable result */</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a>    var result2; <span class="co">/* inferred-type variable result #2 */</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true"></a>    result = x + <span class="dv">1</span>;</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true"></a>    result2 = x + <span class="fl">1.</span><span class="dv">0</span>;  <span class="co">/* this line won&#39;t work (in the C language) */</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true"></a>    <span class="kw">return</span> result;</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true"></a>}</span></code></pre></div>
<p>Where <code>x</code> and <code>result</code> are declared by the compiler to be of type integer (determined at compile time) because <code>1</code> is an integer.</p>
<h2 id="problems">Problems</h2>
<p><code>result2</code> adds complications because of the aggregate effects of the following causes (for the programming language C):<br />
* the <code>+</code> operator must be used on the same types.<br />
* <code>1.0</code> is a floating-point decimal.<br />
* To accomodate <code>result</code> and <code>result2</code>, <code>x</code> would have to be an integer and a floating-point decimal simultaneously, which is impossible.</p>
<h2 id="type-inference-algorithms">Type-Inference Algorithms</h2>
<p>One solution to the ambiguous type-inference example above is simply to generate an error message to catch unintended consequences (such as in C).</p>
<p>Another solution is a back-tracing type-inference algorthim that finds the most generic type to assign to the variable <code>x</code>, in this case, floating-point. The issue with this: 1. Type-inference becomes unintuitive to humans and bugs become harder to catch<br />
2. In this case, you can introduce precision issues that wouldnâ€™t have been there with an integer type</p>
<p>For these reasons, an error message may be preferred to type-inference algorithms.</p>
<h2 id="references">References</h2>
<p><a href="https://en.wikipedia.org/wiki/Type_inference">Wikipedia - Type Inference</a></p>
<h2 id="tags">Tags</h2>
<p>#programming</p>
