<h1 id="normalization">Normalization</h1>
<p><strong>Normalization</strong> is the process of applying well-understood design rules to <em>schema</em>.</p>
<ol type="1">
<li><p>Tables shouldn’t track multiple “things”</p></li>
<li><p>Tables shouldn’t track more than one concept.</p></li>
<li><p>Ensure each concept is pure. Look for signs that a table is confusing or contains data that doesn’t belong there.</p></li>
</ol>
<h2 id="example">Example</h2>
<p><code>competition</code> | year | competition | host_city |first_place_dance_move|first_place_dancer|second_place_dance_move| second_place_dancer| third_place_dance_move|third_place_dancer| |——-|—————|—————–|—————-|———————-|—————–|————————-|———————|———————-| | 1994 | Dance Olympics| Berlin | Butterfly Swing | George Marshall | Popping and Locking | Monty Mccann | Heel Spin | Blanche Maldonado| | 1994 | Freestyle | Shanghai | Gemini Blast | Dorian Tapia | Popping and Locking | Monty Mccann | Swing Dancing | Darius Mcdonald| | 1994 | Dance Battle | Tokyo | Kickstand | Delmer Berry | The Moonwalk | Marc French | Quick Shuffle | George Marshall| | 1995 | Dance Olympics| Mexico City | Heel Spin | Blanche Maldonado | The Robot | Ella Bell | Body Roll | Vicki Bauer| | 1995 | Freestyle | NY City | 360 flip | Georgina Calhoun | The Floss | Massimo Surgenor | The Monastery | Darius Mcdonald| | 1995 | Dance Battle | Istanbul | The Hustle | Pete Allison | Butterfly Swing | George Marshall | Whip/Nae Nae | Josue Frederick| | 1996 | Dance Olympics| Minsk | Popping and Locking | Monty Mccann | The Dougie | Shon Tyler | Voguing | Kelly Berg| | 1996 | Freestyle | NY City | Fly High | Jamel Duncan | Two-Step | Massimo Surgenor | WingNutt | Norman Houston| | 1996 | Dance Battle | Tokyo | Quick Shuffle | George Marshall | Swing Dancing | Darius Mcdonald | Butterfly Swing | George Marshall|</p>
<p>There are some design issues with the <code>competition</code> table above:<br />
1. <strong>Insert a primary key</strong> - Without a primary key, we are forced to use the natural key (<code>year</code>,<code>competition</code>), which could lead to problems if a competition is hosted twice in a single year.</p>
<ol start="2" type="1">
<li><strong>Extract one-to-many relationships</strong> - Remove one-to-many relationships in the table and create a new table to represent them.<br />
</li>
</ol>
<ul>
<li>A <code>competition</code> has many ranks - create a <code>competition_rank</code> table.<br />
</li>
<li>A record in <code>competition_rank</code> has a dancer, dance move, rank, and competition id.</li>
</ul>
<ol start="3" type="1">
<li><strong>Extract repeating string values</strong> - If there are values that repeat in a column that can be represented as their own concept, put them in its own table.<br />
</li>
</ol>
<ul>
<li>Create a <code>host_city</code> table with an <code>id</code> and <code>name</code>.<br />
</li>
<li>Create a <code>competition</code> table with an <code>id</code> and <code>name</code>.<br />
</li>
<li>Create a <code>dancer</code> and <code>dance_move</code> table to remove repeating string values in <code>competition_rank</code></li>
</ul>
<ol start="4" type="1">
<li><strong>Consolidate</strong> - Add a new master table to tie in the new tables. Define relationships, create foreign keys where needed.</li>
</ol>
<h2 id="tags">Tags</h2>
<p>#db</p>
